%%%%%%%%%%%%
%%% COMPILING CHAPTERS ONLY
%%% thesis_master.lyx has its own preamble in document
%%%%%%%%%%%%

% include the comments when we output. This is so we get the bibliography when previewing this chapter on its own
\usepackage{comment}
\includecomment{comment}

% stop LaTeX from putting hyphens everywhere
\hyphenpenalty=5000

% Make figure captions look nice. Small, sans-serif, bold Fig X.X bit
\usepackage[margin=10pt,font={footnotesize,sf},labelfont=bf,labelsep=endash]{caption}

% Make chapter headings use a sans-serif font
\usepackage[{sf,bf}]{titlesec}

% Make tables use a small sans-serif font
%\usepackage{floatrow}
%\floatsetup[table]{font={small,sf}}
\makeatletter
\renewenvironment{table}%
  {\renewcommand{\familydefault}{\sfdefault}\selectfont
  \@float{table}}
  {\end@float}
\makeatother

% centre tables and figures on the page
\let\originaltabular\tabular
\let\endoriginaltabular\endtabular
\renewenvironment{tabular}[1]{%
  \begingroup%
  \centering%
  \originaltabular{#1}}%
  {\endoriginaltabular\endgroup}

\let\originaltable\table
\let\endoriginaltable\endtable
\renewenvironment{table}[1][ht]{%
  \originaltable[#1]
  \centering}%
  {\endoriginaltable}

\let\originalfigure\figure
\let\endoriginalfigure\endfigure
\renewenvironment{figure}[1][ht]{%
  \originalfigure[#1]
  \centering}%
  {\endoriginalfigure}

% package that allows \resizebox to squeeze tables
\usepackage{graphicx}

% format the natbib citations to be separated with semi-colons etc
\bibpunct[; ]{(}{)}{;}{a}{,}{;}

% make the bibliography have single line spacing
\usepackage{setspace}
\let\oldbibliography\bibliography
\renewcommand{\bibliography}[1]{\setstretch{1}\oldbibliography{#1}}


